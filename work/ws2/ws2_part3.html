<html>
	<title>Worksheet 2 - Part 3</title>


    <script id="vert" type="x-shader/x-vertex" >
	    attribute vec4 a_Position;
        attribute vec4 a_Color;
        varying vec4 v_color;
	    void main()
	    {
		    gl_PointSize = 20.0;
		    gl_Position = a_Position;
            v_color = a_Color;
	    }
    </script>
    <script id="frag" type="x-shader/x-fragment" >
	    precision mediump float;
        varying vec4 v_color;
	    void main()
	    {
		    gl_FragColor = v_color;
	    }
    </script>
<body>
    <h1>Worksheet 2 - Part 3</h1>
	<div>
        Now you can choose both triangles and points.<br>
        The worksheets proposed a quite complicated solution, and i chose a different approach (IMO simpler)<br>
        Implementation take the following Object-style approach:<br>
        a) There is a list of completed shapes, each with a describtion of points + which drawmode to use<br>
        b) There is a preliminary object which will receive the new points the user clicks<br>
        c) Every time the preliminary object have enough points to complete the choosen shape it will add to the list of completed shapes<br>
        d) The render function draws both completed shapes and the preliminary object.<br>
        <br>
        I am aware this introduce a draw-call per shape. However you will require a draw every time you draw a different shape anyway (unless you disgard the z-order).

</div>  
	<canvas id='draw_area' height="512" width="512" >
    </canvas><br/>
    <table>
        <div><b>Drawing mode</b></div>
        <select id="drawmode_select">
            <option value="point">Points</option>
            <option value="triangle">Triangle</option>
        </select>        
        <table>
            <tr>
                <td>Current mode:</td><td id="draw_mode_indicator"></td>
            </tr>
        
           <tr><td>Select color:</td><td>
        <select id="colorselect">
            <option value="red">Red</option>
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="yellow">Yellow</option>
            <option value="pink">Pink</option>
            <option value="magenta">Magenta</option>
            <option value="orange">Orange</option>
            <option value="lime">Lime</option>
            <option value="brown">Brown</option>
            <option value="light_blue_clearing_color">Background</option>
          </select> 
        </td>
    </table><br>
    <button type="submit" id="clear_button">Clear drawing</button>
    <script src="../angel_common/initShaders.js"></script>
    <script src="../angel_common/webgl-utils.js"></script>
    <script src="../angel_common/MV.js"></script>
    <script src="../other_common/helpers.js"></script>
    <script src="ws2_part3.js"></script>


</body>

</html>
